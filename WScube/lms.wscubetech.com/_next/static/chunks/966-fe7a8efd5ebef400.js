"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{3413:function(e,t,s){s.d(t,{EU:function(){return i},K2:function(){return m},eW:function(){return u},kb:function(){return d},u$:function(){return c}});let l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=/^[a-zA-Z ]+$/,o=/.{8,}/,a=/[A-Z]/,r=/[!@#$%^&*(),.?":{}|<>]/,i=e=>{e.target.value.length>e.target.maxLength&&(e.target.value=e.target.value.slice(0,e.target.maxLength))};function d(e){return n.test(e)}function c(e){return l.test(String(e).trim())}let m=e=>null!==e.match(/^(https:\/\/|http:\/\/)((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(#[-a-z\d_]*)?$/i);function u(e){return o.test(e)?a.test(e)?r.test(e)?null:"Password must contain at least one special character":"Password must contain at least one uppercase letter":"Password must be at least 8 characters"}},966:function(e,t,s){s.d(t,{default:function(){return b}});var l=s(7437),n=s(2265),o=s(6648),a=s(3413),r=s(5088),i=s(9212),d=s.n(i),c=s(3580),m=s(6235),u=s(1896),h=s(5648),p=s(2514),f=s(3670);function x(){var e;let t=new Date().toISOString().split("T")[0],{userDetails:s,fetchUser:i}=(0,f.a)(),[x,b]=(0,n.useState)(""),[v,g]=(0,n.useState)({code:"",number:""}),[w,N]=(0,n.useState)(""),[j,y]=(0,n.useState)(""),[C,k]=(0,n.useState)(""),[I,_]=(0,n.useState)(!0),[S,E]=(0,n.useState)(!1),[z,F]=(0,n.useState)(!1),[A,B]=(0,n.useState)(!1),[L,Z]=(0,n.useState)(!1),[M,P]=(0,n.useState)(!1),[V,Y]=(0,n.useState)({}),[D,q]=(0,n.useState)([]),[R,O]=(0,n.useState)([]),[T,$]=(0,n.useState)([]),[G,U]=(0,n.useState)(!1),[H,K]=(0,n.useState)(!1),[W,J]=(0,n.useState)(!1),[Q,X]=(0,n.useState)(!1),[ee,et]=(0,n.useState)({address:"",street:"",country:"",state:"",city:"",pincode:""}),es=(0,n.useRef)(null),el=(0,n.useRef)(null),en=(0,n.useRef)(null);async function eo(){let e=await (0,r.ox)();(null==e?void 0:e.status)&&q(e.result)}async function ea(e){let t=await (0,r.Pz)(e);(null==t?void 0:t.status)&&O(t.result)}async function er(e,t){let s=await (0,r.MC)(e,t);(null==s?void 0:s.status)&&$(s.result)}(0,n.useEffect)(()=>{function e(e){es.current&&!es.current.contains(e.target)&&U(!1),el.current&&!el.current.contains(e.target)&&K(!1),en.current&&!en.current.contains(e.target)&&J(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.useEffect)(()=>{eo()},[]),(0,n.useEffect)(()=>{s&&function(){if(s){if(_(!1),b(s.full_name),g({code:"+"+s.country_code,number:s.phone_number}),N(s.email),s.dob&&y(d()(s.dob).format("YYYY-MM-DD")),k(s.gender),s.parmanent_address){var e,t,l,n,o,a,r;(null===(e=s.parmanent_address)||void 0===e?void 0:e.country_id)&&P(!0),(null==s?void 0:null===(t=s.parmanent_address)||void 0===t?void 0:t.countryCode)&&ea(null==s?void 0:null===(o=s.parmanent_address)||void 0===o?void 0:o.countryCode),(null==s?void 0:null===(l=s.parmanent_address)||void 0===l?void 0:l.countryCode)&&(null==s?void 0:null===(n=s.parmanent_address)||void 0===n?void 0:n.stateCode)&&er(null==s?void 0:null===(a=s.parmanent_address)||void 0===a?void 0:a.countryCode,null==s?void 0:null===(r=s.parmanent_address)||void 0===r?void 0:r.stateCode),et(s.parmanent_address)}(null==s?void 0:s.is_email_public)&&B(!0),(null==s?void 0:s.is_phone_number_public)&&Z(!0),_(!0)}}()},[s]);let ei=(e,t)=>{et({...ee,[t]:e.target.value})},ed=e=>{X(!0),et({...ee,country:e.name,countryCode:e.code,state:"",city:""}),U(!1),ea(e.code)},ec=e=>{var t;X(!0),et({...ee,state:e.name,stateCode:e.code,city:""}),K(!1),er(ee.countryCode||(null===(t=D.find(e=>e.name===ee.country))||void 0===t?void 0:t.code),e.code)},em=e=>{X(!0),et({...ee,city:e.name}),J(!1)},eu=(e,t,s)=>{"country"==e?et(l=>({...l,[e]:t,country_id:s.id,state_id:"",state:"",city_id:"",city:""})):"state"==e?et(l=>({...l,[e]:t,state_id:s.id,city_id:"",city:""})):"city"==e?et(l=>({...l,[e]:t,city_id:s.id})):et(s=>({...s,[e]:t}))},eh=e=>{e.target.checked?B(!0):B(!1)},ep=e=>{e.target.checked?Z(!0):Z(!1)},ef=()=>{var e,t;let s=!0,l={},n={};if(!x){s=!1,l.fullName=!0,n.fullName="Full name is required";let e=document.getElementById("fullname-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(x&&!(0,a.kb)(x)){s=!1,l.fullName=!0,n.fullName="Full Name should contain only alphabetic characters";let e=document.getElementById("fullname-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(x&&(null==x?void 0:x.length)<3){s=!1,l.fullName=!0,n.fullName="Full name must be minimum 3 characters length";let e=document.getElementById("fullname-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!w){s=!1,l.email=!0,n.email="Email is required";let e=document.getElementById("email-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(w&&!(0,a.u$)(w)){s=!1,l.email=!0,n.email="Please enter valid email";let e=document.getElementById("email-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!j){s=!1,l.dob=!0,n.dob="Date of birth is required";let e=document.getElementById("date-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!C){s=!1,l.gender=!0,n.gender="Gender is required";let e=document.getElementById("gender-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!ee.address){s=!1,l.permanentAddress=!0,n.permanentAddress="Address is required";let e=document.getElementById("address-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if((null==ee?void 0:ee.address)&&(null==ee?void 0:null===(e=ee.address)||void 0===e?void 0:e.length)<3){s=!1,l.permanentAddress=!0,n.permanentAddress="Address must be minimum 3 characters length";let e=document.getElementById("address-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!ee.country){s=!1,l.permanentCountry=!0,n.permanentCountry="Country is required";let e=document.getElementById("address-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!ee.state){s=!1,l.permanentState=!0,M?n.permanentState="The state needs to be updated when the country changes":n.permanentState="State is required";let e=document.getElementById("address-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!ee.city){s=!1,l.permanentCity=!0,M?n.permanentCity="The city needs to be updated when the country or state changes":n.permanentCity="City is required";let e=document.getElementById("address-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(!ee.pincode){s=!1,l.permanentPincode=!0,n.permanentPincode="Pincode is required";let e=document.getElementById("address-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}if(ee.pincode&&(null===(t=ee.pincode)||void 0===t?void 0:t.length)<6){s=!1,l.permanentPincode=!0,n.permanentPincode="Please enter valid pincode";let e=document.getElementById("address-input");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}return F(l),Y(n),s};async function ex(){if(ef()){let e={full_name:x,email:(null==s?void 0:s.email)&&(null==s?void 0:s.email)||w,dob:j,gender:C,parmanent_address:ee,is_email_public:A,is_phone_number_public:L};E(!0);let t=await (0,r.ek)(e);t.status?(E(!1),setTimeout(()=>{i()},1500),X(!1),c.Am.success(t.message,m.D)):(E(!1),c.Am.error(t.message,m.D))}}return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-100",children:[(0,l.jsxs)("div",{className:"mb-28 mt-lg-0 mt-24",children:[(0,l.jsx)("h1",{className:"fw-600 fs-lg-20 fs-18 lh-30 text-color-15 mb-2",children:"Basic Information"}),(0,l.jsx)("p",{className:"text-color-6 fs-14 lh-21 fw-400 mb-0",children:"These details help in creating a comprehensive student profile for academic and administrative purposes."})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-sm-6 mb-lg-40 mb-32",id:"fullname-input",children:(0,l.jsxs)("div",{className:"profiles-input",children:[(0,l.jsxs)("label",{htmlFor:"fullName",className:"fs-14 fw-500 lh-20 text-color-7 mb-6",children:["Full Name ",(0,l.jsx)("span",{className:"text-color-41",children:"*"})]}),(0,l.jsx)("input",{type:"text",placeholder:"Full Name",id:"fullName",value:x,onChange:e=>{b(e.target.value.trimStart().replace(/  +/g," ")),X(!0)},className:"form-control outline-none text-color-1 fs-16 bg-color-2 border-w border-color-38 rounded-8 h-size-44"}),(0,l.jsx)("p",{className:"text-color-16 mt-6 fs-14 lh-20 fw-400 mb-0",children:"This name will appear on your program certificate."}),z.fullName&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.fullName})]})}),(0,l.jsx)("div",{className:"col-sm-6 mb-lg-40 mb-32",id:"date-input",children:(0,l.jsxs)("div",{className:"profiles-input",children:[(0,l.jsxs)("label",{htmlFor:"dob",className:"fs-14 fw-500 lh-20 text-color-7 mb-6",children:["Date of Birth ",(0,l.jsx)("span",{className:"text-color-41",children:"*"})]}),(0,l.jsxs)("div",{className:"position-relative",children:[!j&&(0,l.jsx)("span",{style:{top:"2px"},className:"max-w-180 text-color-16 fs-16 position-absolute bg-white d-flex w-50 h-size-40 align-items-center ml-13 user-select-none",children:"DD-MM-YYYY"})||"",(0,l.jsx)("input",{type:"date",placeholder:"DD/MM/YYYY",id:"dob",value:j,onChange:e=>{y(e.target.value),X(!0)},max:t,className:"form-control outline-none text-color-1 fs-16 bg-color-2 border-w border-color-38 rounded-8 h-size-44"})]}),z.dob&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.dob})]})}),(0,l.jsx)("div",{className:"col-sm-6 mb-lg-40 mb-32",children:(0,l.jsxs)("div",{className:"profiles-input",children:[(0,l.jsxs)("label",{htmlFor:"mob",className:"fs-14 fw-500 lh-20 text-color-7 mb-6",children:["Registered Mobile No. ",(0,l.jsx)("span",{className:"text-color-41",children:"*"})]}),(0,l.jsxs)("div",{className:"position-relative",children:[(0,l.jsxs)("span",{style:{top:"2px"},className:"max-w-69 text-color-16 fs-16 position-absolute bg-transparent d-flex w-size-69 pl-16 h-size-40 align-items-center user-select-none",children:[null==v?void 0:v.code,(0,l.jsx)(o.default,{src:"/images/user-profile/down-arrow.svg",width:12,height:5,alt:"icon",className:"img-fluid ml-3"})]}),(0,l.jsx)("input",{type:"number",placeholder:"Phone number",value:null==v?void 0:v.number,disabled:!0,readOnly:!0,className:"form-control outline-none text-color-1 fs-16 bg-color-2 border-w border-color-38 rounded-8 h-size-44 \n                    ".concat((null==v?void 0:null===(e=v.code)||void 0===e?void 0:e.length)>3&&"pl-80"||"pl-70")})]}),(0,l.jsxs)("div",{className:"form-check pt-2",children:[(0,l.jsx)("input",{onChange:e=>{ep(e),X(!0)},className:"form-check-input shadow-none cursor-pointer outline-none",type:"checkbox",value:"",id:"showMobile",checked:L}),(0,l.jsx)("label",{className:"user-select-none form-check-label text-color-7 fw-400 lh-20 fs-14 cursor-pointer",htmlFor:"showMobile",children:"Should be shown in the portfolio?"})]})]})}),(0,l.jsx)("div",{className:"col-sm-6 mb-lg-40 mb-32",id:"email-input",children:(0,l.jsxs)("div",{className:"profiles-input",children:[(0,l.jsxs)("label",{htmlFor:"email",className:"fs-14 fw-500 lh-20 text-color-7 mb-6",children:["Email Address ",(0,l.jsx)("span",{className:"text-color-41",children:"*"})]}),(0,l.jsxs)("div",{className:"position-relative",children:[(0,l.jsx)("span",{style:{top:"2px"},className:"max-w-34 text-color-16 fs-16 position-absolute bg-transparent d-flex w-size-34 pl-16 h-size-40 align-items-center user-select-none",children:(0,l.jsx)(o.default,{src:"/images/user-profile/mail-icon.svg",width:20,height:20,alt:"icon",className:"img-fluid"})}),(0,l.jsx)("input",{id:"email",type:"email",placeholder:"Email Address",value:w||"",disabled:null==s?void 0:s.email,readOnly:null==s?void 0:s.email,onChange:e=>{N(e.target.value),X(!0)},className:"form-control outline-none text-color-1 fs-16 bg-color-2 border-w border-color-38 rounded-8 h-size-44 pl-42"})]}),z.email&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.email}),(0,l.jsxs)("div",{className:"form-check pt-2",children:[(0,l.jsx)("input",{onChange:e=>{eh(e),X(!0)},className:"form-check-input shadow-none cursor-pointer outline-none",type:"checkbox",value:"",id:"showEmail",checked:A}),(0,l.jsx)("label",{className:"user-select-none form-check-label text-color-7 fw-400 lh-20 fs-14 cursor-pointer",htmlFor:"showEmail",children:"Should be shown in the portfolio?"})]})]})}),(0,l.jsx)("div",{className:"col-sm-12 mb-lg-52 mb-40",id:"gender-input",children:(0,l.jsxs)("div",{className:"profiles-input",children:[(0,l.jsxs)("label",{className:"fs-14 fw-500 lh-20 text-color-7 mb-6",children:["Gender ",(0,l.jsx)("span",{className:"text-color-41",children:"*"})]}),(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)("div",{className:"mr-44",children:(0,l.jsxs)("label",{className:"radio-label",children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"Male",onChange:e=>{k(e.target.value),X(!0)},checked:"Male"===C,className:"radio-input cursor-pointer"}),(0,l.jsx)("span",{className:"fs-14 fw-500 text-color-7",children:"Male"})]})}),(0,l.jsx)("div",{className:"mr-44",children:(0,l.jsxs)("label",{className:"radio-label",children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"Female",onChange:e=>{k(e.target.value),X(!0)},checked:"Female"===C,className:"radio-input cursor-pointer"}),(0,l.jsx)("span",{className:"fs-14 fw-500 text-color-7",children:"Female"})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("label",{className:"radio-label",children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"Other",onChange:e=>{k(e.target.value),X(!0)},checked:"Other"===C,className:"radio-input cursor-pointer"}),(0,l.jsx)("span",{className:"fs-14 fw-500 text-color-7",children:"Other"})]})})]}),z.gender&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.gender})]})}),(0,l.jsxs)("div",{className:"col-sm-12 profile-address-inputs",children:[(0,l.jsxs)("label",{className:"fs-16 fw-600 lh-24 text-color-7 mb-20",children:["Address ",(0,l.jsx)("span",{className:"text-color-41",children:"*"})]}),I&&(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-sm-12 mb-20",id:"address-input",children:(0,l.jsxs)("div",{className:"profiles-input",children:[(0,l.jsx)("input",{type:"text",className:"form-control outline-none text-color-1 fs-16 bg-color-2 border-w border-color-38 rounded-8 h-size-44",placeholder:"Enter Flat, House no., Building, Company, Apartment",value:ee.address,onChange:e=>{eu("address",e.target.value),X(!0)}}),z.permanentAddress&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.permanentAddress})]})}),(0,l.jsx)("div",{className:"col-sm-6 mb-20",children:(0,l.jsxs)(u.Z.Group,{controlId:"countryInput",className:"position-relative profiles-input",ref:es,children:[(0,l.jsx)("div",{className:"input-address",children:(0,l.jsx)(u.Z.Control,{type:"text",placeholder:"Country",value:ee.country,onChange:e=>ei(e,"country"),onClick:()=>U(!0),className:"form-control pe-5 shadow-none outline-none fs-16 bg-transparent position-relative border-w border-color-38 rounded-8 h-size-44"})}),G&&(0,l.jsx)(h.Z.Menu,{show:!0,className:"w-100 max-h-200 dropdown-menu show w-100 mt-1 px-2 border border-color-28 rounded-8 bg-white max-h-200 overflow-y-auto",children:(null==D?void 0:D.length)>0&&D.filter(e=>e.name.toLowerCase().includes(ee.country.toLowerCase())).length>0?D.filter(e=>e.name.toLowerCase().includes(ee.country.toLowerCase())).map(e=>(0,l.jsx)(h.Z.Item,{as:"span",className:"user-select-none text-color-7 py-2 w-100 px-2 rounded fw-400 lh-20 fs-14 cursor-pointer",onClick:()=>ed(e),children:e.name},e.code)):(0,l.jsx)("p",{className:"text-center p-2 text-color-1 fs-13 mb-0",children:"No Record Found"})}),z.permanentCountry&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.permanentCountry})]})}),(0,l.jsx)("div",{className:"col-sm-6 mb-20",children:(0,l.jsxs)(u.Z.Group,{controlId:"stateInput",className:"position-relative profiles-input",ref:el,children:[(0,l.jsx)("div",{className:"input-address",children:(0,l.jsx)(u.Z.Control,{type:"text",placeholder:"State",value:ee.state,disabled:!ee.country,onChange:e=>ei(e,"state"),onClick:()=>K(!0),className:"form-control pe-5 shadow-none outline-none fs-16 bg-transparent position-relative border-w border-color-38 rounded-8 h-size-44"})}),H&&(0,l.jsx)(h.Z.Menu,{show:!0,className:"w-100 max-h-200 dropdown-menu show w-100 mt-1 px-2 border border-color-28 rounded-8 bg-white max-h-200 overflow-y-auto",children:(null==R?void 0:R.length)>0&&R.filter(e=>e.name.toLowerCase().includes(ee.state.toLowerCase())).length>0?R.filter(e=>e.name.toLowerCase().includes(ee.state.toLowerCase())).map(e=>(0,l.jsx)(h.Z.Item,{as:"span",className:"user-select-none text-color-7 py-2 w-100 px-2 rounded fw-400 lh-20 fs-14 cursor-pointer",onClick:()=>ec(e),children:e.name},e.code)):(0,l.jsx)("p",{className:"text-center p-2 text-color-1 fs-13 mb-0",children:"No Record Found"})}),z.permanentState&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.permanentState})]})}),(0,l.jsx)("div",{className:"col-sm-6 mb-20",children:(0,l.jsxs)(u.Z.Group,{controlId:"cityInput",className:"position-relative profiles-input",ref:en,children:[(0,l.jsx)("div",{className:"input-address",children:(0,l.jsx)(u.Z.Control,{type:"text",placeholder:"City",value:ee.city,disabled:!ee.country||!ee.state,onChange:e=>ei(e,"city"),onClick:()=>J(!0),className:"form-control pe-5 shadow-none outline-none fs-16 bg-transparent position-relative border-w border-color-38 rounded-8 h-size-44"})}),W&&(0,l.jsx)(h.Z.Menu,{show:!0,className:"w-100 max-h-200 dropdown-menu show w-100 mt-1 px-2 border border-color-28 rounded-8 bg-white max-h-200 overflow-y-auto",children:(null==T?void 0:T.length)>0&&T.filter(e=>e.name.toLowerCase().includes(ee.city.toLowerCase())).length>0?T.filter(e=>e.name.toLowerCase().includes(ee.city.toLowerCase())).map(e=>(0,l.jsx)(h.Z.Item,{as:"span",className:"user-select-none text-color-7 py-2 w-100 px-2 rounded fw-400 lh-20 fs-14 cursor-pointer",onClick:()=>em(e),children:e.name},e.code)):(0,l.jsx)("p",{className:"text-center p-2 text-color-1 fs-13 mb-0",children:"No Record Found"})}),z.permanentCity&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.permanentCity})]})}),(0,l.jsx)("div",{className:"col-sm-6 mb-20",children:(0,l.jsxs)("div",{className:"profiles-input",children:[(0,l.jsx)("input",{type:"number",className:"form-control outline-none text-color-1 fs-16 bg-color-2 border-w border-color-38 rounded-8 h-size-44",placeholder:"6 digit PIN code",maxLength:"6",onInput:a.EU,value:ee.pincode,onChange:e=>{eu("pincode",e.target.value),X(!0)}}),z.permanentPincode&&(0,l.jsx)("span",{className:"fs-12 text-danger fw-500",children:V.permanentPincode})]})})]})]}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("div",{className:"d-flex justify-content-end pt-lg-40 pt-12",children:(0,l.jsxs)("button",{onClick:ex,disabled:S||!Q,className:"submit-disabled btn-resp-full text-color-2 fw-600 fs-16 bg-color-34 shadow-none outline-none rounded-8 h-size-44 min-w-147 border-w border-color-34",children:[S&&(0,l.jsx)(p.Z,{animation:"border",role:"status",size:"sm",className:"me-2"}),"Update Profile"]})})})]})]})})}function b(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(x,{})})}}}]);